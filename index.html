<!DOCTYPE html><html lang="es"><head>  <meta charset="UTF-8" />  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>  <title>BestDeal Pal V2 - Depuración</title>  <style>    body { font-family: Arial; padding: 20px; background: #fafafa; }    h1 { text-align: center; }    pre { background: #eee; padding: 10px; border-radius: 5px; max-height: 300px; overflow-y: auto; }  </style></head><body>  <h1>BestDeal Pal V2 - Depuración</h1>  <div id="debug">Iniciando carga...</div>
  <script>    const CSV_URL = "https://docs.google.com/spreadsheets/d/1Q6I8AN7oSk_6pRPGUJAGlYuhEZTn4nvDi9tvjG3uDUQ/gviz/tq?tqx=out:csv";    const debug = document.getElementById("debug");
    function log(msg) {      debug.innerHTML += `<pre>${msg}</pre>`;    }
    function parseCSV(csvText) {      const [headerLine, ...lines] = csvText.trim().split("\n");      log(`Encabezados: ${headerLine}`);      const headers = headerLine.split(",").map(h => h.trim().replace(/^"|"$/g, ''));      log(`Headers parseados: ${JSON.stringify(headers)}`);
      const products = lines.map(line => {        const values = line.split(",").map(v => v.trim().replace(/^"|"$/g, ''));        let obj = {};        headers.forEach((header, i) => obj[header] = values[i] || '');        return obj;      });      log(`Número de productos cargados: ${products.length}`);      log(`Primer producto: ${JSON.stringify(products[0], null, 2)}`);      return products;    }
    fetch(CSV_URL)      .then(r => {        log(`Respuesta HTTP: ${r.status} ${r.statusText}`);        return r.text();      })      .then(text => {        log(`CSV recibido (primeros 200 caracteres):\n${text.substring(0, 200)}`);        parseCSV(text);      })      .catch(err => {        log(`Error al cargar CSV:\n${err}`);      });  </script></body></html>